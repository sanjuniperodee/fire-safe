from django.core.management.base import BaseCommand
from auths.models import Category


class Command(BaseCommand):
    help = 'Initialize categories for services'

    def handle(self, *args, **options):
        self.stdout.write(self.style.SUCCESS('üöÄ Initializing categories...'))
        
        # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —É—Å–ª—É–≥ –∏–∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
        categories_data = [
            {
                "id": 1, 
                "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –æ–≥–Ω–µ–∑–∞—â–∏—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–µ—Ä–µ–≤—è–Ω–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –Ω–∞ –µ—ë –æ—Å–Ω–æ–≤–µ", 
                "measurement_unit": "–∫–∞–∂–¥—ã–µ 1000 –º2"
            },
            {
                "id": 2, 
                "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –æ–≥–Ω–µ–∑–∞—â–∏—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–µ—Ä–µ–≤—è–Ω–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –Ω–∞ –µ—ë –æ—Å–Ω–æ–≤–µ", 
                "measurement_unit": "–¥–æ 500 –º2"
            },
            {
                "id": 3, 
                "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –æ–≥–Ω–µ–∑–∞—â–∏—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç–∞–ª—å–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π", 
                "measurement_unit": "–∫–∞–∂–¥—ã–µ 1000 –º2"
            },
            {
                "id": 4, 
                "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –æ–≥–Ω–µ–∑–∞—â–∏—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç–∞–ª—å–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π", 
                "measurement_unit": "–¥–æ 500 –º2"
            },
            {
                "id": 5, 
                "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ—á–Ω–æ—Å—Ç–∏ —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–π –Ω–∞—Ä—É–∂–Ω–æ–π –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π (–±–µ–∑ –æ–≥—Ä–∞–∂–¥–µ–Ω–∏—è) –ø–æ–∂–∞—Ä–Ω–æ–π –ª–µ—Å—Ç–Ω–∏—Ü—ã", 
                "measurement_unit": "1 –ø/–º –¥–ª–∏–Ω—ã –ª–µ—Å—Ç–Ω–∏—Ü—ã"
            },
            {
                "id": 6, 
                "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ—á–Ω–æ—Å—Ç–∏ —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–π –Ω–∞—Ä—É–∂–Ω–æ–π –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–π (—Å –æ–≥—Ä–∞–∂–¥–µ–Ω–∏–µ–º —Å–≤—ã—à–µ 6–º) –ø–æ–∂–∞—Ä–Ω–æ–π –ª–µ—Å—Ç–Ω–∏—Ü—ã", 
                "measurement_unit": "1 –ø/–º –¥–ª–∏–Ω—ã –ª–µ—Å—Ç–Ω–∏—Ü—ã"
            },
            {
                "id": 7, 
                "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ—á–Ω–æ—Å—Ç–∏ —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–Ω–æ–π –Ω–∞—Ä—É–∂–Ω–æ–π –º–∞—Ä—à–µ–≤–æ–π –ø–æ–∂–∞—Ä–Ω–æ–π –ª–µ—Å—Ç–Ω–∏—Ü—ã", 
                "measurement_unit": "1 –ø/–º –¥–ª–∏–Ω—ã"
            },
            {
                "id": 8, 
                "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ—á–Ω–æ—Å—Ç–∏ –æ–≥—Ä–∞–∂–¥–µ–Ω–∏—è –∫—Ä–æ–≤–ª–∏.", 
                "measurement_unit": "1 –ø/–º –¥–ª–∏–Ω—ã"
            },
            {
                "id": 9, 
                "name": "–¢–µ–∫—Å—Ç–∏–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, —Ç–∫–∞–Ω–∏ –¥–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ, –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–µ –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ (–≤–æ—Å–ø–ª–∞–º–µ–Ω—è–µ–º–æ—Å—Ç—å –∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è)", 
                "measurement_unit": "–∫–∞–∂–¥—ã–µ 1000 –º2 (20 –ú–†–ü)"
            },
            {
                "id": 10, 
                "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª–µ–π –í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è (–¢–¢–•)", 
                "measurement_unit": ""
            },
            {
                "id": 11, 
                "name": "–ì–µ—Ä–º–µ—Ç–∏–∑–∏—Ä—É—é—â–∏–π, –æ–≥–Ω–µ–∑–∞—â–∏—Ç–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –ø—Ä–∏–º–µ–Ω—è–µ–º—ã–π –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–±–µ–ª—å–Ω—ã—Ö –ª–∏–Ω–∏–π, —Å—Ç—ã–∫–æ–≤ (–∫–∞—á–µ—Å—Ç–≤–æ –∏ —Ç–æ–ª—â–∏–Ω–∞ –æ–≥–Ω–µ–∑–∞—â–∏—Ç–Ω–æ–≥–æ –ø–æ–∫—Ä—ã—Ç–∏—è, —Å—Ç—ã–∫–∞)", 
                "measurement_unit": "–ø/–º, —à—Ç."
            },
            {
                "id": 12, 
                "name": "–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ –∏–∑–¥–µ–ª–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∂–∞—Ä–Ω—ã–µ, —Ç–µ–ø–ª–æ–∏–∑–æ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ –∏ –∑–≤—É–∫–æ–∏–∑–æ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ, –º–∏–Ω–µ—Ä–∞–ª—å–Ω–∞—è –≤–∞—Ç–∞ –∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –º–∏–Ω–µ—Ä–∞–ª—å–Ω—ã–µ –≤–∞—Ç—ã (–≤–∫–ª—é—á–∞—è –∏—Ö —Å–º–µ—Å–∏), –Ω–∞–≤–∞–ª–æ–º, –≤ –ª–∏—Å—Ç–∞—Ö –∏–ª–∏ —Ä—É–ª–æ–Ω–∞—Ö (–ª–∏–Ω–µ–π–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã, –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥, —Ç–æ–ª—â–∏–Ω–∞)", 
                "measurement_unit": "–ø/–º, —à—Ç."
            },
            {
                "id": 13, 
                "name": "–ì–µ—Ä–º–µ—Ç–∏–∑–∏—Ä—É—é—â–∏–π, –æ–≥–Ω–µ–∑–∞—â–∏—Ç–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –ø—Ä–∏–º–µ–Ω—è–µ–º—ã–π –≤ –∫–∞—á–µ—Å—Ç–≤–µ –Ω–∞—Ä—É–∂–Ω–æ–≥–æ (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ) —Å–ª–æ—è –º–æ–Ω—Ç–∞–∂–Ω–æ–≥–æ —à–≤–∞, —Å—Ç—ã–∫–∞, —É–∑–ª–æ–≤ –ø—Ä–∏–º—ã–∫–∞–Ω–∏—è –æ–∫–æ–Ω–Ω—ã—Ö –±–ª–æ–∫–æ–≤ –∫ —Å—Ç–µ–Ω–æ–≤—ã–º –ø—Ä–æ–µ–º–∞–º", 
                "measurement_unit": "–ø/–º"
            },
            {
                "id": 14, 
                "name": "–í–µ–Ω—Ç–∏–ª—è—Ü–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, –¥—ã–º–æ—É–¥–∞–ª–µ–Ω–∏—è –∏ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–æ—Ä–∞ –≤–æ–∑–¥—É—Ö–∞ (–ò–∑–º–µ—Ä–µ–Ω–∏–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞—Å—Ö–æ–¥–∞ –≤–æ–∑–¥—É—Ö–∞)", 
                "measurement_unit": "-"
            },
            {
                "id": 15, 
                "name": "–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –æ–≥–Ω–µ–∑–∞—â–∏—Ç–Ω–æ–≥–æ —Å—Ä–µ–¥—Å—Ç–≤–∞", 
                "measurement_unit": "—à—Ç."
            },
            {
                "id": 16, 
                "name": "–ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª–∏ (–≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ –∏ –∫–∞—á–µ—Å—Ç–≤–æ)", 
                "measurement_unit": "—à—Ç."
            },
            {
                "id": 17, 
                "name": "–ö–∞–±–µ–ª–∏, –ø—Ä–æ–≤–æ–¥–∞, —à–Ω—É—Ä—ã (–°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –∏–∑–æ–ª—è—Ü–∏–π)", 
                "measurement_unit": "—à—Ç."
            },
            {
                "id": 18, 
                "name": "–ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ. –ü—Ä–æ—Ç–∏–≤–æ–ø–æ–∂–∞—Ä–Ω—ã–µ –¥–≤–µ—Ä–∏ –∏ –≤–æ—Ä–æ—Ç–∞ - –ø—Ä–µ–¥–µ–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (E, I)", 
                "measurement_unit": "–µ–¥–∏–Ω–∏—Ü–∞"
            },
            {
                "id": 19, 
                "name": "–ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ. –ù–µ—Å—É—â–∏–µ –∏ –æ–≥—Ä–∞–∂–¥–∞—é—â–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏. - –ø—Ä–µ–¥–µ–ª—å–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (R, E, I)", 
                "measurement_unit": "–µ–¥–∏–Ω–∏—Ü–∞"
            },
            {
                "id": 20, 
                "name": "–û–±—É—á–µ–Ω–∏–µ –ø–æ –ø–æ–∂–∞—Ä–Ω–æ-—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –º–∏–Ω–∏–º—É–º—É (–ü–¢–ú)", 
                "measurement_unit": "1 —á–µ–ª–æ–≤–µ–∫"
            },
            {
                "id": 21, 
                "name": "–û–±—É—á–µ–Ω–∏–µ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏", 
                "measurement_unit": "1 —á–µ–ª–æ–≤–µ–∫"
            },
            {
                "id": 22, 
                "name": "–û–±—É—á–µ–Ω–∏–µ –ø–æ —Ç–µ—Ö–Ω–∏–∫–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞ (–¢–ë –∏ –û–¢)", 
                "measurement_unit": "1 —á–µ–ª–æ–≤–µ–∫"
            },
            {
                "id": 23, 
                "name": "–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ—Ä–µ–≤—è–Ω–Ω—ã—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –æ–≥–Ω–µ–∑–∞—â–∏—Ç–Ω—ã–º —Å–æ—Å—Ç–∞–≤–æ–º", 
                "measurement_unit": "1 –º2"
            },
            {
                "id": 24, 
                "name": "–û–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –æ–≥–Ω–µ–∑–∞—â–∏—Ç–Ω—ã–º —Å–æ—Å—Ç–∞–≤–æ–º", 
                "measurement_unit": "1 –º2"
            },
            {
                "id": 25, 
                "name": "–ü–µ—Ä–µ–º–æ—Ç–∫–∞ –ø–æ–∂–∞—Ä–Ω—ã—Ö —Ä—É–∫–∞–≤–æ–≤", 
                "measurement_unit": "1 —à—Ç"
            },
            {
                "id": 26, 
                "name": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤–æ–¥–æ–æ—Ç–¥–∞—á—É –ø–æ–∂–∞—Ä–Ω—ã—Ö –∫—Ä–∞–Ω–æ–≤", 
                "measurement_unit": "1 —à—Ç"
            },
            {
                "id": 27, 
                "name": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤–æ–¥–æ–æ—Ç–¥–∞—á—É –ø–æ–∂–∞—Ä–Ω—ã—Ö –≥–∏–¥—Ä–∞–Ω—Ç–æ–≤", 
                "measurement_unit": "1 —à—Ç"
            },
            {
                "id": 28, 
                "name": "–ú–æ–Ω—Ç–∞–∂ –æ—Ö—Ä–∞–Ω–Ω–æ-–ø–æ–∂–∞—Ä–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–π, –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ",
                "measurement_unit": ""
            },
            {
                "id": 29, 
                "name": "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∏—Å—Ç–µ–º –ø–æ–∂–∞—Ä–æ—Ç—É—à–µ–Ω–∏—è",
                "measurement_unit": ""
            },
            {
                "id": 30, 
                "name": "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞–Ω–∞ —ç–≤–∞–∫—É–∞—Ü–∏–∏",
                "measurement_unit": ""
            },
            {
                "id": 31, 
                "name": "–ê—É–¥–∏—Ç –≤ –æ–±–ª–∞—Å—Ç–∏ –ø–æ–∂–∞—Ä–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏",
                "measurement_unit": ""
            },
            {
                "id": 32, 
                "name": "–£—Å–ª—É–≥–∏ –ø–æ –º–æ–Ω—Ç–∞–∂—É, –ø—É—Å–∫–æ-–Ω–∞–ª–∞–¥–∫–µ –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—é —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏",
                "measurement_unit": ""
            },
            {
                "id": 33, 
                "name": "–°–∏—Å—Ç–µ–º—ã –ø–µ—Ä–∏–º–µ—Ç—Ä–æ–≤—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è",
                "measurement_unit": ""
            },
            {
                "id": 34, 
                "name": "–°–∏—Å—Ç–µ–º—ã –æ—Ö—Ä–∞–Ω–Ω–æ–π –∏ –ø–æ–∂–∞—Ä–Ω–æ–π —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–∏",
                "measurement_unit": ""
            },
            {
                "id": 35, 
                "name": "–°–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞",
                "measurement_unit": ""
            },
            {
                "id": 36, 
                "name": "–°–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∂–∞—Ä–æ—Ç—É—à–µ–Ω–∏—è",
                "measurement_unit": ""
            },
            {
                "id": 37, 
                "name": "–°–∏—Å—Ç–µ–º—ã –æ–ø–æ–≤–µ—â–µ–Ω–∏—è",
                "measurement_unit": ""
            },
            {
                "id": 38, 
                "name": "–°–∏—Å—Ç–µ–º—ã –ø—Ä–æ—Ç–∏–≤–æ–¥—ã–º–Ω–æ–π –≤–µ–Ω—Ç–∏–ª—è—Ü–∏–∏",
                "measurement_unit": ""
            },
            {
                "id": 39, 
                "name": "–°–∏—Å—Ç–µ–º—ã –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è",
                "measurement_unit": ""
            }
        ]
        
        created_count = 0
        updated_count = 0
        
        for category_data in categories_data:
            category, created = Category.objects.get_or_create(
                id=category_data['id'],
                defaults={
                    'name': category_data['name'],
                    'measurement_unit': category_data['measurement_unit'] or None
                }
            )
            
            if created:
                created_count += 1
                self.stdout.write(f'  ‚úì Created category {category.id}: {category.name[:50]}...')
            else:
                # –û–±–Ω–æ–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å
                if (category.name != category_data['name'] or 
                    category.measurement_unit != (category_data['measurement_unit'] or None)):
                    category.name = category_data['name']
                    category.measurement_unit = category_data['measurement_unit'] or None
                    category.save()
                    updated_count += 1
                    self.stdout.write(f'  ‚Üª Updated category {category.id}: {category.name[:50]}...')
                else:
                    self.stdout.write(f'  - Category {category.id} already exists and up to date')
        
        self.stdout.write('\n' + '='*60)
        self.stdout.write(self.style.SUCCESS('‚úÖ Categories initialization completed!'))
        self.stdout.write('='*60)
        self.stdout.write(f'üìä Created: {created_count} categories')
        self.stdout.write(f'üìä Updated: {updated_count} categories')
        self.stdout.write(f'üìä Total categories in database: {Category.objects.count()}')
        self.stdout.write('='*60) 